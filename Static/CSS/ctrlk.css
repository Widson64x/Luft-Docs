.kp-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;z-index:9999}
.kp-backdrop[aria-hidden="false"]{display:block}
.kp-dialog{width:min(860px,92vw);margin:8vh auto;background:var(--theme-surface,#121417);
  color:var(--theme-surface-text,#e6e6e6);border:1px solid var(--theme-border,#2b2f36);
  border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,.45);overflow:hidden}
.kp-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--theme-border,#2b2f36)}
.kp-hint{opacity:.75;font-size:.85rem}
.kp-input-wrap{position:relative;padding:10px 12px;border-bottom:1px solid var(--theme-border,#2b2f36)}
#kp-input{width:100%;padding:12px 44px 12px 12px;background:transparent;color:inherit;border:1px solid var(--theme-border,#2b2f36);border-radius:10px;outline:none}
#kp-input:focus{border-color:var(--theme-accent,#4c8bf5)}
#kp-close{position:absolute;right:18px;top:50%;transform:translateY(-50%);background:transparent;color:inherit;border:none;font-size:20px;cursor:pointer;opacity:.8}
.kp-chips{display:flex;flex-wrap:wrap;gap:8px;padding:10px 16px;border-bottom:1px solid var(--theme-border,#2b2f36)}
.kp-chip{border:1px solid var(--theme-border,#2b2f36);border-radius:999px;padding:6px 10px;cursor:pointer;opacity:.9}
.kp-chip:hover{background:var(--theme-surface-hover,#1a1f29)}
.kp-sections{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:12px 16px;border-bottom:1px solid var(--theme-border,#2b2f36)}
.kp-section{border:1px solid var(--theme-border,#2b2f36);border-radius:12px;overflow:hidden}
.kp-section h4{margin:0;padding:10px 12px;border-bottom:1px solid var(--theme-border,#2b2f36);font-size:0.95rem;opacity:.85}
.kp-list{max-height:30vh;overflow:auto;margin:0;padding:6px 8px;list-style:none}
.kp-list li a{display:flex;gap:10px;align-items:center;padding:8px 10px;text-decoration:none;color:inherit;border-radius:10px}
.kp-list li a:hover{background:var(--theme-surface-hover,#1a1f29)}
.kp-ico{width:22px;text-align:center;opacity:.85}
.kp-results{list-style:none;margin:0;padding:6px 8px;max-height:46vh;overflow:auto}
.kp-results li{border-radius:10px;margin:4px 0}
.kp-results a{display:block;padding:10px 12px;text-decoration:none;color:inherit}
.kp-results a small{opacity:.7}
.kp-results li[aria-selected="true"], .kp-results li:hover{background:var(--theme-surface-hover,#1a1f29)}
.kp-empty{padding:16px;opacity:.75}
